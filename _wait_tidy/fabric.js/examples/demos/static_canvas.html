<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
		<link rel="icon" href="../logo.png">
		<title>quadratic_curve</title>
		<link href="../../../default_css.css" rel="stylesheet" type="text/css"/>

		<script type="text/javascript" src="../../libs/fabric.js/fabric-with-gestures.4.5.0.js"></script>
	</head>
	<!--

	-->
	<body>
		<canvas id="renderCanvas"></canvas>
		<script type="module">
			// import * as fabric from '../../libs/fabric.js/index.mjs';

			const canvasDom = document.getElementById('renderCanvas');
			canvasDom.width = canvasDom.clientWidth;
			canvasDom.height = canvasDom.clientHeight;

			const canvas = new fabric.StaticCanvas( canvasDom );

			canvas.add(
				new fabric.Rect({ top: 100, left: 100, width: 50, height: 50, fill: '#f55' }),
				new fabric.Circle({ top: 140, left: 230, radius: 75, fill: 'green' }),
				new fabric.Triangle({ top: 300, left: 210, width: 100, height: 100, fill: 'blue' })
			);

			fabric.Image.fromURL('../assets/pug.jpg', function(img) {
				canvas.add(img.set({ left: 400, top: 350, angle: 30 }).scale(0.25));
			});

			function animate() {
				canvas.item(0).animate('top', canvas.item(0).get('top') === 500 ? '100' : '500', {
					duration: 1000,
					onChange: canvas.renderAll.bind(canvas),
					onComplete: animate
				});
			}
			animate();
		</script>
	</body>
</html>
